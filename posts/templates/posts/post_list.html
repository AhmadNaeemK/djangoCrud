{% extends 'base.html' %}

{%  block content %}
{% for post in posts_list %}
<hr>

<div id="Post{{ forloop.counter }}" class="align-self-center outline-black">
    <h2> {{ post.title }} </h2>
    <p> {{ post.description }} </p>
    <p>Published on {{ post.pub_date }}</p>
    <img src="{{ post.image.url }}">
    <div class="inline">
        <p> Reacts: {{ post.reacts }} </p>
        <form method="post" name="react_form" action="{% url 'posts:react' post.id %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-dark"> React</button>
        </form>
    </div>
    <div>
        <ul>
        {% for comment in post.comment_set.all %}
            <li> {{comment.comment_text}} </li>
        {% endfor %}
        </ul>
    </div>
    <form method="post" name="comment_form" action="{% url 'posts:add_comment' post.id %}">
        {% csrf_token %}
        <input type="text" name='comment_text' placeholder="Comment">
        <button type="submit" class="btn">Add Comment</button>
    </form>
</div>

{% endfor %}
{% endblock content %}